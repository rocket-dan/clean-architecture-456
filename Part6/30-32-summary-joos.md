# 30장 데이터베이스는 세부사항이다

> TL;DR  
> - "데이터"가 중요하지 "데이터 베이스"가 중요한 것은 아니다.
> - 데이터 공부를 하고 싶다고 디비 공부를 해야하는 것이 아니다.


- 데이터베이스는 엔티티가 아니라 데이터에 접근할 도구일 뿐이다.
- 즉 아키텍처 관점에서 데이터 베이스는 세부사항일 뿐 관련이 있는 것이 아니다.

## 관계형 데이터베이스
- 데이터를 저장, 접근에 용이한 "기술" -> 즉 세부사항
- 데이터가 테이블 구조를 가진다는 사실은 "오직" 아키텍처의 외부 원에 위치한 최하위 수준의 유틸리티 함수만 알아야 한다.
- 테이블과 행이 객체 형태를 갖고 활용되는 것은 잘못된 설계다.

Q.그치만 우린 평소에 orm을 쓸 때 그것을 entity마냥 쓸 때가 많지 않나요..?
아무래도 microservice가 되면서 그렇게 되는 것 같아요. 예전에는 다 같은 디비를 접근하기 때문에 따로 entity class를 만들어서 활용할 곳에 맞게 사용했는데(이게 entity layer?!), 요즘은 또 다른 것 같습니다. (feat. microservice 를 구현할 때 사용하는 cqrs)


## 데이터베이스 시스템은 왜 이렇게 널리 사용되는가?
- '디스크'가 느렸던 시절 데이터 접근 및 관리 시스템이 필요
    - 해결책 2가지 종류
        - 파일 시스템
            - 문서 기반이다 보니 내용 기준 검색이 오래 걸린다.
        - 관계형 데이터베이스 관리 시스템
            - 다수의 레코드를 연관 짓는데 적합해 내용 기준 검색은 편리하나, 정형화되지 않은 문서를 저장하고 검색하는 것은 대체로 부적합
    - 두 해결책 모두 디스크를 체계화해 효율적으로 데이터를 저장하고 검색하게 하기 위해 사용한다.
- 그러나 결국 빠르게 조작할 수 있도록 RAM을 함께 사용한다.


## 디스크가 없다면 어떻게 될까?
- 디스크는 RAM으로 대체되고 있다.
- 데이터를 테이블 구조로 만들어 SQL을 이용해 접근하지 않고, 이미 다양한 임의의 구조로 사용하고 있다.
- 따라서 데이터베이스는 디스크와 RAM 사이에서 데이터를 옮길 때만 사용함으로 세부사항이다.

*Q. orm을 쓸 때 one to many를 쓸 때 list형태로 저장하는 그런 것을 얘기하는 것 같아용. 다른분들은 어떤생각?*


## 성능은?
- 성능은 시스템의 전반적인 아키텍처와 아무 관련 없다...!?!?




# 31장 웹은 세부사항

> TL;DR  
> - 격동의 웹(!) 연산을 중앙 집중하는 방식과 분산하는 방식 두 사이를 우리는 계에에에속 움직인다.
> - 웹은 단지 입출력장치일 뿐이니, 유스케이스를 실행하는 처리 과정의 입출력값을 사용 하는 것에 집중하자.




# 32장 프레임워크는 세부사항

> TL;DR  
> - 프레임워크는 제품에 꼭 맞게 만들어 주지도 않는다.
> - 즉 사용시 자신이 구현하고자 하는 제품에 꼭 맞게 추상화를 해서 가져오는 것이 더 안전하다.

*Q.맥락이 살짝 다르긴 하지만 이와 비슷한 사례가 orm이지 않을까? 어떤 디비를 사용하든 코드는 바뀌지 않으니까. 근데 프레임워크도 그렇게 될 수 있나...? 예전에 꽤 큰 회사에서 angular, react, vue의 격동 시기 덕분에 많이 빡쳤던 웹 프론트 분들이 그런식으로 했었다는 얘기를 들은 적이 있다.*
 - 최대한 표준 라이브러리를 사용하자.




